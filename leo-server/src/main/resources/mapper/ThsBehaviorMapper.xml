<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hhh.server.mapper.ThsBehaviorMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="ThsBehaviorResultMap" type="com.hhh.server.pojo.ThsBehaviorRes">
        <result column="date" property="date"/>
        <result column="rank" property="rank"/>
        <result column="stock_code" property="stockCode"/>
        <result column="stock_name" property="stockName"/>
        <result column="change_percent" property="changePercent"/>
        <result column="DDE_net" property="DDENet"/>
        <result column="DDE_BBD" property="DDEBBD"/>
        <result column="change_percent_by_week" property="changePercentByWeek"/>
        <result column="industry" property="industry"/>
        <result column="industry_change_percent" property="industryChangePercent"/>
        <result column="type" property="type"/>
    </resultMap>

    <select id="getThsBehaviorResultByDateAndType" resultMap="ThsBehaviorResultMap">
        SELECT * FROM ths_behavior WHERE `date` = #{date} AND type = #{type}
    </select>

    <insert id="insertBehavior" parameterType="com.hhh.server.pojo.ThsBehaviorRes">
        INSERT INTO ths_behavior (`date`, `rank`, stock_code, stock_name, change_percent, DDE_net, DDE_BBD,
                    change_percent_by_week, industry, industry_change_percent, type)
        VALUES (#{date}, #{rank}, #{stockCode}, #{stockName}, #{changePercent}, #{DDENet}, #{DDEBBD}, #{changePercentByWeek},
                #{industry}, #{industryChangePercent}, #{type})
    </insert>

</mapper>
